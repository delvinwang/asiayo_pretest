## 問題1
### 試想臨時有一活動網頁專案將於近日推出，預期推廣期間訪客流量會是平日常態之百倍（或更多）請簡易描述你/妳將如何確保服務能在推廣期間正常運作？考量的細節是什麼？

針對高流量活動網頁的部署,我會從以下幾個面向來確保服務穩定:<br />

#### 架構
1.採用雲端服務彈性擴展架構,根據流量自動調整運算資源<br />
2.使用CDN分散流量負載,降低主機壓力<br />
3.設置負載平衡器分散請求到多台應用伺服器<br />
#### 效能
1.實作頁面快取機制,並使用資料庫讀寫分離,提升查詢效能<br />
#### 監控
1.設置合適的指標以及告警<br />
2.通過指標觸發autoscale<br />
3.監控CDN與快取命中率<br />
#### 資安
1.限制單一IP request頻率<br />
2.設置DDOS保護機制<br />

## 問題2
### 試想有一個 API 伺服器集群，背後由多台機器組成，此時服務監控系統發現其中一台回應時間經常逾時，僅有此機器異常，請簡易描述你/妳將會如何進行問題排查？考量的細節是什麼？

當問題發生時我會從以下幾個步驟來做排查:<br />

1.確認問題發生的時間點, 使用監控工具查看是否有任何的Error log發生<br />
2.查看該cluster各項指標(包含但不限於CPU, Mem, 網路I/O)<br />
3.確認是否只有單一API endpoint受到影響<br />
4.連線進入主機並使用各種工具查看系統資源(top,htop)以及網路連線狀態(netstat,ss)<br />
5.比對環境是否跟之前正常運作時有差異並逐一復原<br />

## 問題3
### 試想有一項目運行於 AWS EC2 機器之上，已確認該服務仍然正常運行中，但由於不明原因導致無法再次透過 SSH 登入確認狀態（已確認排除並非網路異常，亦非防火牆阻擋所導致）。請簡易描述你/妳將如何排查問題，並且讓服務恢復正常運作？考量的細節是什麼？如果可以，請試著回答造成無法登入的可能的肇因為何？

當問題發生時我會從以下幾個步驟來做排查:<br />

1.檢查Security Group配置(是否設置允許SSH Rule)<br />
2.使用Cloudwatch檢查EC2 instance機器資源使用狀況<br />
3.從AWS console檢查EC2 System logs<br />
4.檢查公私鑰以及權限是否正確<br />
5.使用session manager連接EC2<br />

我認為此種問題發生肇因較常存在於Security group以及公私鑰的設置(根據題目知道服務正常運作且網路無問題情況下)<br />

## 問題4
### 試想已有一組 ELK/EFK 日誌服務集群，而今日有一新服務上線並且串接日誌紀錄，讓開發者能夠透過 Kibana 進行線上錯誤排查，你/妳會如何將日誌檔內容串接至 ELK/EFK 系統？考量的細節是什麼？

假設今天使用ELK, 我會執行以下步驟來串接:<br />

1.先確認該服務的日誌型態, 盡量統一為Json format, 並需要有明確的基本欄位, 如timestamp, service name等, 如果有其他特殊需求可再加入其他欄位<br />
2.使用ELK中的Logstash, 設置input以及filter, 並確保Logstash有權限讀取檔案<br />
3.建立Elasticsearch索引模板, 使日誌資料結構化並mapping各資料欄位至正確資料型態, 以及設置index lifecycle(超過特定期間即刪除或放入其他低成本儲存空間), 避免長時間蒐集資料帶來儲存空間的負擔<br />
4.建立Kibana data view, 使Discover/Visualization能方便使用<br />
5.建立Kibana dashboard, 包含服務健康狀況以及錯誤告警等<br />
